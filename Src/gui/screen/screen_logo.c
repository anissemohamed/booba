//-----------------------------------------------------------------------------
// Module name: screen_logo.c
//
// (c) Copyright 2018 Notilo PLus, unpublished work.
// All Rights Reserved.
//
// The information contained herein is confidential
// property of Company. The user, copying, transfer or
// disclosure of such information is prohibited except
// by express written agreement with Company.
//
// Module Description: TODO
//-----------------------------------------------------------------------------
#include <screen/screen_logo.h>
#include <gui.h>
#include <stdio.h>
#include <string.h>

//------------------------------------------------------------------------------
//	Variable definition
//------------------------------------------------------------------------------
#define LOGO_SPRITE_HEIGHT          20
#define LOGO_SPRITE_WIDTH           96
static const uint8_t _logo_sprite[] =
{
  0x06, 0x07, 0xC0, 0x00, 0x60, 0x7C, 0x01, 0xF0, 0x06, 0x00, 0x03, 0xE0,
  0x06, 0x07, 0xE0, 0x00, 0x60, 0x7E, 0x01, 0xF8, 0x06, 0x00, 0x07, 0xE0,
  0x06, 0x00, 0xF0, 0x00, 0x60, 0x0F, 0x00, 0x3C, 0x06, 0x00, 0x0F, 0x00,
  0x06, 0x00, 0x30, 0x00, 0x60, 0x03, 0x00, 0x0C, 0x06, 0x00, 0x0C, 0x00,
  0x06, 0x00, 0x38, 0x00, 0x60, 0x03, 0x00, 0x0E, 0x06, 0x00, 0x1C, 0x00,
  0x06, 0x00, 0x38, 0x00, 0x60, 0x03, 0x00, 0x0E, 0x06, 0x00, 0x1C, 0x00,
  0x06, 0x00, 0x30, 0x00, 0x60, 0x03, 0x00, 0x0C, 0x06, 0x00, 0x0C, 0x00,
  0x06, 0x00, 0x30, 0x00, 0x60, 0x03, 0x00, 0x0C, 0x06, 0x00, 0x0C, 0x00,
  0x06, 0x00, 0xF0, 0x00, 0x60, 0x0F, 0x00, 0x3C, 0x06, 0x00, 0x0F, 0x00,
  0x06, 0x07, 0xC0, 0x00, 0x60, 0x7C, 0x01, 0xF0, 0x06, 0x00, 0x03, 0xE0,
  0x06, 0x07, 0xC0, 0x00, 0x60, 0x7C, 0x01, 0xF0, 0x06, 0x00, 0x03, 0xE0,
  0x06, 0x00, 0xF0, 0x00, 0x60, 0x0F, 0x00, 0x3C, 0x06, 0x00, 0x0F, 0x00,
  0x06, 0x00, 0x30, 0x00, 0x60, 0x03, 0x00, 0x0C, 0x06, 0x00, 0x0C, 0x00,
  0x06, 0x00, 0x30, 0x00, 0x60, 0x03, 0x00, 0x0C, 0x06, 0x00, 0x0C, 0x00,
  0x06, 0x00, 0x38, 0x00, 0x60, 0x03, 0x00, 0x0E, 0x06, 0x00, 0x1C, 0x00,
  0x06, 0x00, 0x38, 0x00, 0x60, 0x03, 0x00, 0x0E, 0x06, 0x00, 0x1C, 0x00,
  0x06, 0x00, 0x30, 0x00, 0x60, 0x03, 0x00, 0x0C, 0x07, 0x00, 0x0C, 0x00,
  0x06, 0x00, 0xF0, 0x03, 0xE0, 0x0F, 0x00, 0x3C, 0x03, 0xC0, 0x0F, 0x00,
  0x06, 0x07, 0xE0, 0x1F, 0xC0, 0x7E, 0x01, 0xF8, 0x01, 0xF8, 0x07, 0xE0,
  0x06, 0x07, 0xC0, 0x1E, 0x80, 0x7C, 0x01, 0xF0, 0x00, 0x78, 0x03, 0xE0
};

//------------------------------------------------------------------------------
//	Internal function declaration
//------------------------------------------------------------------------------
static void _screen_logo_init(void);

//------------------------------------------------------------------------------
//	External function definition
//------------------------------------------------------------------------------
GUI_SCREEN_t screen_logo_process(GUI_SCREEN_HANDLE_t *screen_handle)
{
  GUI_SCREEN_t ret_screen = eGUI_SCREEN_LOGO;

  if(screen_handle->tick >= 1000/GUI_PROCESS_PERIOD_MS){
    ret_screen = eGUI_SCREEN_APP;
  }
  else if(screen_handle->tick == 0){
    _screen_logo_init();
    screen_handle->previous_screen = eGUI_SCREEN_LOGO;
  }

  return ret_screen;
}

//------------------------------------------------------------------------------
//	Internal function definition
//------------------------------------------------------------------------------
void _screen_logo_init(void)
{
  gui_clear();
  gui_draw_sprite(0, 0, LOGO_SPRITE_WIDTH, LOGO_SPRITE_HEIGHT, _logo_sprite);
  // gui_draw_string("LOGO", eGUI_ALIGNMENT_X_MIDDLE | eGUI_ALIGNMENT_Y_MIDDLE, 0);
}
